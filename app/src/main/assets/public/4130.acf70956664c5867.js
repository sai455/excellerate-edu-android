"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4130],{1840:(g,I,d)=>{d.d(I,{h:()=>e});class e{static{this.mainPath="https://excelsis360.com/ExcelsisMobileAPI/"}static{this.urls={login:e.mainPath+"Login",circularList:e.mainPath+"GetCirculars",homeWorkList:e.mainPath+"GetStudentCoursePlanDetails",GetReportCard:e.mainPath+"GetStudentProgressReport",GetTenantNames:e.mainPath+"GetTenantsList",GetUserFeeDetails:e.mainPath+"GetUserFeeDetails",GetNotifications:e.mainPath+"GetNotifications",GetSyllabas:e.mainPath+"GetChapterTopicsByUserId",GetFeedbackList:e.mainPath+"GetFeedbackList",GetMeetingsList:e.mainPath+"GetMeetingsList",MeetingHostJoined:e.mainPath+"MeetingHostJoined",MeetingEnd:e.mainPath+"EndMeeting",getGropusList:e.mainPath+"GetGroupDropDowns",getStudentList:e.mainPath+"",startMeeting:e.mainPath+"JoinMeeting",sendGroupMail:e.mainPath+"SendGroupMail",GetStudentTodayAttendanceDetails:e.mainPath+"GetStudentTodayAttendanceDetails",GetStudentCurrentMonthAttendanceDetails:e.mainPath+"GetStudentCurrentMonthAttendanceDetails",GetStudentLastThreeMonthsAttendanceDetails:e.mainPath+"GetStudentLastThreeMonthsAttendanceDetails",GetCalendarEvents:e.mainPath+"GetCalendarEvents",GetStudentTermAttendanceDetails:e.mainPath+"GetStudentTermAttendanceDetails",SaveFeedback:e.mainPath+"SaveFeedback",AddFeedback:e.mainPath+"AddFeedback",GetFeedbackTypes:e.mainPath+"GetFeedbackTypes",GetFeedbackCategoriesByType:e.mainPath+"GetFeedbackCategoriesByType",GetFeedbackStepsByTypeCategory:e.mainPath+"GetFeedbackStepsByTypeCategory",GetGalleryList:e.mainPath+"GetUserDMS",GetAllNodes:e.mainPath+"getAllNodes",AddUserDMSFolder:e.mainPath+"AddUserDMSFolder",UpdateDMSFileName:e.mainPath+"UpdateDMSFileName",AddUserDMSFile:e.mainPath+"AddUserDMSFile",DeleteNode:e.mainPath+"DeleteNode",GetDMSPermissionList:e.mainPath+"GetDMSPermissionList",UpdateDMSPermissions:e.mainPath+"UpdateDMSPermissions",SiteLinks:e.mainPath+"GetSiteLinks",GetAttendanceSubjects:e.mainPath+"GetAttendanceSubjects",GetAttendanceAcademicYears:e.mainPath+"GetAttendanceAcademicYears",GetAttendanceTerms:e.mainPath+"GetAttendanceTerms",GetAttendanceSection:e.mainPath+"GetAttendanceSection",GetAttendanceStudentsList:e.mainPath+"GetAttendanceStudentsList",SaveStudentsAttendance:e.mainPath+"SaveStudentsAttendance",GetPaymentOrderId:e.mainPath+"GetPaymentOrderId",GetTransactionDues:e.mainPath+"GetTransactionDues",GetTransactionsPaid:e.mainPath+"GetTransactionsPaid",ValidatePaymentCaptured:e.mainPath+"ValidatePaymentCaptured",DeleteCalendarEvent:e.mainPath+"DeleteCalendarEvent",AddCalendarEvents:e.mainPath+"AddCalendarEvents",GetCommunicatorTypes:e.mainPath+"GetCommunicatorTypes",GetFormsByType:e.mainPath+"GetFormsByType",SendCommunicator:e.mainPath+"SendCommunicator",GetStaffAttendanceRoles:e.mainPath+"GetStaffAttendanceRoles",GetStaffAttendance:e.mainPath+"GetStaffAttendance",SaveStaffAttendance:e.mainPath+"SaveStaffAttendance",GetUsersAsync:e.mainPath+"GetUsersAsync",GetDynamicDashboardsList:e.mainPath+"GetDynamicDashboardsList",GetDynamicDashboardAsync:e.mainPath+"GetDynamicDashboardAsync",GetTrips:e.mainPath+"GetTrips",UpdateTripLocation:e.mainPath+"UpdateTripLocation",GetBusLocationByTripId:e.mainPath+"GetBusLocationByTripId",EndTrip:e.mainPath+"EndTrip",GetTripDropDowns:e.mainPath+"GetTripDropDowns",CreateTrip:e.mainPath+"CreateTrip",SaveGpsAttendance:e.mainPath+"SaveGpsAttendance",GetGpsAttendance:e.mainPath+"GetGpsAttendance",LogMobileFirebaseToken:e.mainPath+"LogMobileFirebaseToken"}}}},6886:(g,I,d)=>{d.d(I,{J:()=>u});var r=d(1626),e=d(4438);let u=(()=>{class h{constructor(m){this.http=m}getHeadres(){let m=new r.Lr;return m.append("Content-Type","application/json"),m}addItemToList(m,p){let f=new r.Lr;return f.append("Content-Type","application/json"),this.http.post(m,p,{headers:f})}login(m,p){return this.http.get(m,{params:p})}registerUser(m,p){return(new r.Lr).append("Content-Type","application/x-www-form-urlencoded"),this.http.post(m,p,{headers:this.getHeadres()})}getCirculerList(m){return this.http.get(m)}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(r.Qq))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},2490:(g,I,d)=>{d.d(I,{e:()=>Ye});var r=d(177),e=d(4438),u=d(4341),h=d(3656),c=d(3465);const m=["searchbarComponent"],p=i=>({group:i}),f=(i,a)=>({"ionic-selectable-item-is-selected":i,"ionic-selectable-item-is-disabled":a}),b=(i,a)=>({item:i,isItemSelected:a}),T=i=>({"top.px":i}),S=i=>({height:i}),v=(i,a)=>({item:i,isAdd:a}),G=i=>({visibility:i});function M(i,a){if(1&i&&e.nrm(0,"span",13),2&i){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.selectComponent.closeButtonTemplate)}}function x(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.selectComponent.closeButtonText," ")}}function F(i,a){if(1&i&&e.nrm(0,"span",13),2&i){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.selectComponent.titleTemplate)}}function D(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.selectComponent.label," ")}}function O(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-toolbar",10)(1,"ion-buttons",11)(2,"ion-button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.selectComponent._close())}),e.DNE(3,M,1,1,"span",2)(4,x,2,1,"span",3),e.k0s()(),e.j41(5,"ion-title"),e.DNE(6,F,1,1,"span",2)(7,D,2,1,"span",3),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("color",t.selectComponent.headerColor?t.selectComponent.headerColor:null),e.R7$(),e.Y8G("slot",t.selectComponent.closeButtonSlot),e.R7$(2),e.Y8G("ngIf",t.selectComponent.closeButtonTemplate),e.R7$(),e.Y8G("ngIf",!t.selectComponent.closeButtonTemplate),e.R7$(2),e.Y8G("ngIf",t.selectComponent.titleTemplate),e.R7$(),e.Y8G("ngIf",!t.selectComponent.titleTemplate)}}function k(i,a){if(1&i&&e.nrm(0,"div",13),2&i){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.selectComponent.headerTemplate)}}function E(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-searchbar",16,0),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG(2);return e.DH7(l.selectComponent._searchText,o)||(l.selectComponent._searchText=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.selectComponent._filterItems())})("ionClear",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.selectComponent._onSearchbarClear())}),e.k0s()}if(2&i){const t=e.XpG(2);e.R50("ngModel",t.selectComponent._searchText),e.Y8G("placeholder",t.selectComponent.searchPlaceholder)("debounce",t.selectComponent.searchDebounce)}}function y(i,a){if(1&i&&(e.j41(0,"div",17),e.nrm(1,"div",13),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.selectComponent.messageTemplate)}}function P(i,a){if(1&i&&(e.j41(0,"ion-toolbar"),e.DNE(1,E,2,3,"ion-searchbar",14)(2,y,2,1,"div",15),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.selectComponent.canSearch),e.R7$(),e.Y8G("ngIf",t.selectComponent.messageTemplate)}}function A(i,a){1&i&&(e.j41(0,"div",18),e.nrm(1,"div",19)(2,"ion-spinner"),e.k0s())}function B(i,a){if(1&i&&e.nrm(0,"span",26),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.Y8G("ngTemplateOutlet",n.selectComponent.groupTemplate)("ngTemplateOutletContext",e.eq3(2,p,t))}}function V(i,a){if(1&i&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.text," ")}}function R(i,a){if(1&i&&(e.j41(0,"div",27),e.nrm(1,"div",26),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",n.selectComponent.groupEndTemplate)("ngTemplateOutletContext",e.eq3(2,p,t))}}function $(i,a){if(1&i&&(e.j41(0,"ion-item-divider",10),e.DNE(1,B,1,4,"span",24)(2,V,2,1,"ion-label",3)(3,R,2,4,"div",25),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("color",t.selectComponent.groupColor?t.selectComponent.groupColor:null),e.R7$(),e.Y8G("ngIf",t.selectComponent.groupTemplate),e.R7$(),e.Y8G("ngIf",!t.selectComponent.groupTemplate),e.R7$(),e.Y8G("ngIf",t.selectComponent.groupEndTemplate)}}function w(i,a){if(1&i&&e.nrm(0,"span",26),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngTemplateOutlet",n.selectComponent.itemTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function Y(i,a){if(1&i&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.SpI(" ",n.selectComponent._formatItem(t)," ")}}function j(i,a){if(1&i&&(e.j41(0,"div",27),e.nrm(1,"div",26),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",n.selectComponent.itemEndTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function X(i,a){if(1&i&&e.nrm(0,"span",26),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngTemplateOutlet",n.selectComponent.itemIconTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function L(i,a){if(1&i&&e.nrm(0,"ion-icon",31),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("name",n.selectComponent._isItemSelected(t)?"checkmark-circle":"radio-button-off")("color",n.selectComponent._isItemSelected(t)?"primary":null)("slot",n.selectComponent.itemIconSlot)}}function N(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",32),e.bIt("click",function(o){e.eBV(t);const l=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.selectComponent._saveItem(o,l))}),e.nrm(1,"ion-icon",33),e.k0s()}}function H(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",32),e.bIt("click",function(o){e.eBV(t);const l=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.selectComponent._deleteItemClick(o,l))}),e.nrm(1,"ion-icon",34),e.k0s()}}function Q(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-item",28),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.selectComponent._select(o))}),e.DNE(1,w,1,5,"span",24)(2,Y,2,1,"ion-label",3)(3,j,2,5,"div",25)(4,X,1,5,"span",24)(5,L,1,3,"ion-icon",29)(6,N,2,0,"ion-button",30)(7,H,2,0,"ion-button",30),e.k0s()}if(2&i){const t=a.$implicit,n=e.XpG(3);e.Y8G("ngClass",e.l_i(9,f,n.selectComponent._isItemSelected(t),n.selectComponent._isItemDisabled(t)))("disabled",n.selectComponent._isItemDisabled(t)),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemTemplate),e.R7$(),e.Y8G("ngIf",!n.selectComponent.itemTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemEndTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemIconTemplate),e.R7$(),e.Y8G("ngIf",!n.selectComponent.itemIconTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.canSaveItem),e.R7$(),e.Y8G("ngIf",n.selectComponent.canDeleteItem)}}function W(i,a){if(1&i&&(e.j41(0,"ion-item-group",22),e.DNE(1,$,4,4,"ion-item-divider",1)(2,Q,8,12,"ion-item",23),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.selectComponent._hasGroups),e.R7$(),e.Y8G("ngForOf",t.items)}}function K(i,a){if(1&i&&(e.j41(0,"ion-list",20),e.DNE(1,W,3,2,"ion-item-group",21),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.selectComponent._filteredGroups)}}function q(i,a){if(1&i&&e.nrm(0,"span",13),2&i){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.selectComponent.searchFailTemplate)}}function z(i,a){if(1&i&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.selectComponent.searchFailText," ")}}function J(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,q,1,1,"span",2)(2,z,2,1,"div",35),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.selectComponent.searchFailTemplate),e.R7$(),e.Y8G("ngIf",!t.selectComponent.searchFailTemplate)}}function Z(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-infinite-scroll",37),e.bIt("ionInfinite",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.selectComponent._getMoreItems())}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("disabled",!t.selectComponent.hasInfiniteScroll)}}function U(i,a){if(1&i&&e.nrm(0,"span",26),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngTemplateOutlet",n.selectComponent.itemTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function ee(i,a){if(1&i&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.SpI(" ",n.selectComponent._formatItem(t)," ")}}function te(i,a){if(1&i&&(e.j41(0,"div",27),e.nrm(1,"div",26),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",n.selectComponent.itemEndTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function ie(i,a){if(1&i&&e.nrm(0,"span",26),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngTemplateOutlet",n.selectComponent.itemIconTemplate)("ngTemplateOutletContext",e.l_i(2,b,t,n.selectComponent._isItemSelected(t)))}}function ne(i,a){if(1&i&&e.nrm(0,"ion-icon",31),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.Y8G("name",n.selectComponent._isItemSelected(t)?"checkmark-circle":"radio-button-off")("color",n.selectComponent._isItemSelected(t)?"primary":null)("slot",n.selectComponent.itemIconSlot)}}function oe(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",32),e.bIt("click",function(o){e.eBV(t);const l=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.selectComponent._saveItem(o,l))}),e.nrm(1,"ion-icon",39),e.k0s()}}function le(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-button",32),e.bIt("click",function(o){e.eBV(t);const l=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.selectComponent._deleteItemClick(o,l))}),e.nrm(1,"ion-icon",40),e.k0s()}}function se(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-item",28),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.selectComponent._select(o))}),e.DNE(1,U,1,5,"span",24)(2,ee,2,1,"ion-label",3)(3,te,2,5,"div",25)(4,ie,1,5,"span",24)(5,ne,1,3,"ion-icon",29)(6,oe,2,0,"ion-button",30)(7,le,2,0,"ion-button",30),e.k0s()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.Y8G("ngClass",e.l_i(9,f,n.selectComponent._isItemSelected(t),n.selectComponent._isItemDisabled(t)))("disabled",n.selectComponent._isItemDisabled(t)),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemTemplate),e.R7$(),e.Y8G("ngIf",!n.selectComponent.itemTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemEndTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.itemIconTemplate),e.R7$(),e.Y8G("ngIf",!n.selectComponent.itemIconTemplate),e.R7$(),e.Y8G("ngIf",n.selectComponent.canSaveItem),e.R7$(),e.Y8G("ngIf",n.selectComponent.canDeleteItem)}}function ae(i,a){1&i&&(e.j41(0,"div"),e.DNE(1,se,8,12,"ion-item",38),e.k0s())}function ce(i,a){if(1&i&&(e.j41(0,"div",41)(1,"div",42),e.nrm(2,"span",26),e.k0s()()),2&i){const t=e.XpG();e.Y8G("ngStyle",e.eq3(4,T,t._header.offsetHeight)),e.R7$(),e.Y8G("ngStyle",e.eq3(6,S,t.selectComponent._addItemTemplateFooterHeight)),e.R7$(),e.Y8G("ngTemplateOutlet",t.selectComponent.addItemTemplate)("ngTemplateOutletContext",e.l_i(8,v,t.selectComponent._itemToAdd,null===t.selectComponent._itemToAdd))}}function re(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col")(1,"ion-button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.selectComponent._clear())}),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("disabled",!t.selectComponent._selectedItems.length),e.R7$(),e.SpI(" ",t.selectComponent.clearButtonText," ")}}function me(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col")(1,"ion-button",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.selectComponent._addItemClick())}),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG(3);e.R7$(2),e.SpI(" ",t.selectComponent.addButtonText," ")}}function _e(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-col")(1,"ion-button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.selectComponent._confirm())}),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("disabled",!t.selectComponent.isConfirmButtonEnabled),e.R7$(),e.SpI(" ",t.selectComponent.confirmButtonText," ")}}function de(i,a){if(1&i&&(e.j41(0,"ion-toolbar")(1,"ion-row"),e.DNE(2,re,3,2,"ion-col",3)(3,me,3,1,"ion-col",3)(4,_e,3,2,"ion-col",3),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.selectComponent.canClear),e.R7$(),e.Y8G("ngIf",t.selectComponent.canAddItem),e.R7$(),e.Y8G("ngIf",t.selectComponent.isMultiple||t.selectComponent.hasConfirmButton)}}function pe(i,a){if(1&i&&e.nrm(0,"div",13),2&i){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.selectComponent.footerTemplate)}}function he(i,a){if(1&i&&(e.j41(0,"ion-footer",43),e.DNE(1,de,5,3,"ion-toolbar",3)(2,pe,1,1,"div",2),e.k0s()),2&i){const t=e.XpG();e.Y8G("ngStyle",e.eq3(3,G,t.selectComponent._isFooterVisible?"initial":"hidden")),e.R7$(),e.Y8G("ngIf",!t.selectComponent.footerTemplate),e.R7$(),e.Y8G("ngIf",t.selectComponent.footerTemplate)}}const C=i=>({value:i});function ue(i,a){if(1&i&&e.nrm(0,"div",8),2&i){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.valueTemplate)("ngTemplateOutletContext",e.eq3(2,C,t._valueItems))}}function fe(i,a){if(1&i&&(e.j41(0,"div",9),e.nrm(1,"div",8),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.valueTemplate)("ngTemplateOutletContext",e.eq3(2,C,t._valueItems[0]))}}function be(i,a){if(1&i&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(),e.SpI(" ",n._formatValueItem(t)," ")}}function Ie(i,a){if(1&i&&(e.j41(0,"span"),e.DNE(1,be,2,1,"div",10),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t._valueItems)}}function ge(i,a){if(1&i&&(e.j41(0,"div",9),e.nrm(1,"div",11),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.placeholderTemplate)}}function Ce(i,a){if(1&i&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.placeholder," ")}}function Te(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"\xa0"),e.k0s())}function Se(i,a){if(1&i&&(e.j41(0,"div",12),e.nrm(1,"div",11),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.iconTemplate)}}function ve(i,a){1&i&&(e.j41(0,"div",13),e.nrm(1,"div",14),e.k0s())}let Ge=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableAddItemTemplate",""]]})}return i})(),Me=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableCloseButtonTemplate",""]]})}return i})(),xe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableFooterTemplate",""]]})}return i})(),Fe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableGroupEndTemplate",""]]})}return i})(),De=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableGroupTemplate",""]]})}return i})(),Oe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableHeaderTemplate",""]]})}return i})(),ke=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableIconTemplate",""]]})}return i})(),Ee=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableItemEndTemplate",""]]})}return i})(),ye=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableItemIconTemplate",""]]})}return i})(),Pe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableItemTemplate",""]]})}return i})(),Ae=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableMessageTemplate",""]]})}return i})(),Be=(()=>{class i{navParams;_element;_content;_header;selectComponent;_searchbarComponent;_infiniteScroll;_cssClass=!0;get _canClearCssClass(){return this.selectComponent.canClear}get _isMultipleCssClass(){return this.selectComponent.isMultiple}get _isSearchingCssClass(){return this.selectComponent._isSearching}get _isIos(){return this.selectComponent._isIos}_isMD(){return this.selectComponent._isMD}get _isAddItemTemplateVisibleCssClass(){return this.selectComponent._isAddItemTemplateVisible}onResize(){this.selectComponent._positionAddItemTemplate()}constructor(t,n){this.navParams=t,this._element=n,this.selectComponent=this.navParams.get("selectComponent"),this.selectComponent._modalComponent=this,this.selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(o=>{this.selectComponent._selectedItems.push(o)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}ngAfterViewInit(){this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.shouldFocusSearchbar&&setTimeout(()=>{this._searchbarComponent.setFocus()},1e3)}static \u0275fac=function(n){return new(n||i)(e.rXU(h.y8),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:i,selectors:[["ionic-selectable-modal"]],viewQuery:function(n,o){if(1&n&&(e.GBs(c.W9,5),e.GBs(m,5),e.GBs(c.Ax,5)),2&n){let l;e.mGM(l=e.lsd())&&(o._content=l.first),e.mGM(l=e.lsd())&&(o._searchbarComponent=l.first),e.mGM(l=e.lsd())&&(o._infiniteScroll=l.first)}},hostVars:14,hostBindings:function(n,o){1&n&&e.bIt("resize",function(){return o.onResize()},!1,e.tSv),2&n&&e.AVh("ionic-selectable-modal",o._cssClass)("ionic-selectable-modal-can-clear",o._canClearCssClass)("ionic-selectable-modal-is-multiple",o._isMultipleCssClass)("ionic-selectable-modal-is-searching",o._isSearchingCssClass)("ionic-selectable-modal-ios",o._isIos)("ionic-selectable-modal-md",o._isMD)("ionic-selectable-modal-is-add-item-template-visible",o._isAddItemTemplateVisibleCssClass)},decls:12,vars:10,consts:[["searchbarComponent",""],[3,"color",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-spinner",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],[3,"disabled","ionInfinite",4,"ngIf"],[4,"ngFor","ngForOf"],["class","ionic-selectable-add-item-template",3,"ngStyle",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"color"],[3,"slot"],[3,"click"],[3,"ngTemplateOutlet"],[3,"ngModel","placeholder","debounce","ngModelChange","ionChange","ionClear",4,"ngIf"],["class","ionic-selectable-message",4,"ngIf"],[3,"ngModelChange","ionChange","ionClear","ngModel","placeholder","debounce"],[1,"ionic-selectable-message"],[1,"ionic-selectable-spinner"],[1,"ionic-selectable-spinner-background"],[1,"ion-no-margin"],["class","ionic-selectable-group",4,"ngFor","ngForOf"],[1,"ionic-selectable-group"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["slot","end",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end"],["button","true","detail","false",1,"ionic-selectable-item",3,"click","ngClass","disabled"],[3,"name","color","slot",4,"ngIf"],["class","ionic-selectable-item-button","slot","end","fill","outline",3,"click",4,"ngIf"],[3,"name","color","slot"],["slot","end","fill","outline",1,"ionic-selectable-item-button",3,"click"],["slot","icon-only","ios","create","md","create-sharp"],["slot","icon-only","ios","trash","md","trash-sharp"],["class","ion-margin",4,"ngIf"],[1,"ion-margin"],[3,"ionInfinite","disabled"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"virtualItem"],["slot","icon-only","name","md-create"],["slot","icon-only","name","md-trash"],[1,"ionic-selectable-add-item-template",3,"ngStyle"],[1,"ionic-selectable-add-item-template-inner",3,"ngStyle"],[3,"ngStyle"],["expand","full",3,"click","disabled"],["expand","full",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"ion-header"),e.DNE(1,O,8,6,"ion-toolbar",1)(2,k,1,1,"div",2)(3,P,3,2,"ion-toolbar",3),e.k0s(),e.j41(4,"ion-content"),e.DNE(5,A,3,0,"div",4)(6,K,2,1,"ion-list",5)(7,J,3,2,"div",3)(8,Z,2,1,"ion-infinite-scroll",6)(9,ae,2,0,"div",7),e.k0s(),e.DNE(10,ce,3,11,"div",8)(11,he,3,5,"ion-footer",9)),2&n&&(e.R7$(),e.Y8G("ngIf",!o.selectComponent.headerTemplate),e.R7$(),e.Y8G("ngIf",o.selectComponent.headerTemplate),e.R7$(),e.Y8G("ngIf",o.selectComponent.canSearch||o.selectComponent.messageTemplate),e.R7$(2),e.Y8G("ngIf",o.selectComponent._isSearching),e.R7$(),e.Y8G("ngIf",!o.selectComponent.hasVirtualScroll&&o.selectComponent._hasFilteredItems),e.R7$(),e.Y8G("ngIf",!o.selectComponent._hasFilteredItems),e.R7$(),e.Y8G("ngIf",!o.selectComponent.hasVirtualScroll),e.R7$(),e.Y8G("ngForOf",o.selectComponent._filteredGroups[0].items),e.R7$(),e.Y8G("ngIf",o.selectComponent._isAddItemTemplateVisible),e.R7$(),e.Y8G("ngIf",o.selectComponent._footerButtonsCount>0||o.selectComponent.footerTemplate))},dependencies:[c.bv,c.Jm,c.QW,c.hU,c.W9,c.M0,c.eU,c.iq,c.Ax,c.Hp,c.uz,c.Dg,c.jh,c.he,c.nf,c.ln,c.S1,c.w2,c.BC,c.ai,c.Gw,r.bT,r.T3,u.YN,u.BC,u.vS,r.pM,r.YU,r.B3],encapsulation:2})}return i})(),Ve=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectablePlaceholderTemplate",""]]})}return i})(),Re=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableSearchFailTemplate",""]]})}return i})(),$e=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableTitleTemplate",""]]})}return i})(),we=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","ionicSelectableValueTemplate",""]]})}return i})(),Ye=(()=>{class i{_modalController;_platform;ionItem;_iterableDiffers;_element;_renderer;_cssClass=!0;_isIos;_isMD;get _isMultipleCssClass(){return this.isMultiple}get _hasValueCssClass(){return this.hasValue()}get _hasPlaceholderCssClass(){return this._hasPlaceholder}get _hasIonLabelCssClass(){return this._hasIonLabel}get _hasDefaultIonLabelCssClass(){return"default"===this._ionLabelPosition}get _hasFixedIonLabelCssClass(){return"fixed"===this._ionLabelPosition}get _hasStackedIonLabelCssClass(){return"stacked"===this._ionLabelPosition}get _hasFloatingIonLabelCssClass(){return"floating"===this._ionLabelPosition}_isOnSearchEnabled=!0;_isEnabled=!0;_shouldBackdropClose=!0;_isOpened=!1;_value=null;_modal;_itemsDiffer;_hasObjects;_canClear=!1;_hasConfirmButton=!1;_isMultiple=!1;_canAddItem=!1;_addItemObservable;_deleteItemObservable;onItemsChange=new e.bkB;_ionItemElement;_ionLabelElement;_hasIonLabel=!1;_ionLabelPosition=null;_label="";get _hasInfiniteScroll(){return!!(this.isEnabled&&this._modalComponent&&this._modalComponent._infiniteScroll)}get _shouldStoreItemValue(){return this.shouldStoreItemValue&&this._hasObjects}_valueItems=[];_searchText="";_hasSearchText=!1;_groups=[];_itemsToConfirm=[];_selectedItems=[];_modalComponent;_filteredGroups=[];_hasGroups;_isSearching;_hasPlaceholder;_isAddItemTemplateVisible=!1;_isFooterVisible=!0;_itemToAdd=null;_footerButtonsCount=0;_hasFilteredItems=!1;get label(){return this._label}get searchText(){return this._searchText}set searchText(t){this._searchText=t,this._setHasSearchText()}get isSearching(){return this._isSearching}get hasSearchText(){return this._hasSearchText}get value(){return this._value}set value(t){this._value=t,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?t&&t.length&&Array.prototype.push.apply(this._valueItems,t):this._isNullOrWhiteSpace(t)||this._valueItems.push(t),this._setIonItemHasValue(),this._setHasPlaceholder()}items=[];itemsChange=new e.bkB;get isEnabled(){return this._isEnabled}set isEnabled(t){this._isEnabled=!!t,this.enableIonItem(this._isEnabled)}get shouldBackdropClose(){return this._shouldBackdropClose}set shouldBackdropClose(t){this._shouldBackdropClose=!!t}modalCssClass="";modalEnterAnimation;modalLeaveAnimation;get isOpened(){return this._isOpened}isConfirmButtonEnabled=!0;get hasConfirmButton(){return this._hasConfirmButton}set hasConfirmButton(t){this._hasConfirmButton=!!t,this._countFooterButtons()}itemValueField="";itemTextField="";groupValueField="";groupTextField="";canSearch=!1;get isOnSearchEnabled(){return this._isOnSearchEnabled}set isOnSearchEnabled(t){this._isOnSearchEnabled=!!t}get canClear(){return this._canClear}set canClear(t){this._canClear=!!t,this._countFooterButtons()}hasInfiniteScroll=!1;hasVirtualScroll=!1;virtualScrollApproxItemHeight="40px";searchPlaceholder="Search";placeholder="";get isMultiple(){return this._isMultiple}set isMultiple(t){this._isMultiple=!!t,this._countFooterButtons()}searchFailText="No items found.";clearButtonText="Clear";addButtonText="Add";confirmButtonText="OK";closeButtonText="Cancel";shouldFocusSearchbar=!1;headerColor="";groupColor="";closeButtonSlot="start";itemIconSlot="start";onChange=new e.bkB;onSearch=new e.bkB;onSearchFail=new e.bkB;onSearchSuccess=new e.bkB;onInfiniteScroll=new e.bkB;onOpen=new e.bkB;onClose=new e.bkB;onSelect=new e.bkB;onClear=new e.bkB;get itemsToConfirm(){return this._itemsToConfirm}searchDebounce=250;disabledItems=[];shouldStoreItemValue=!1;canSaveItem=!1;canDeleteItem=!1;get canAddItem(){return this._canAddItem}set canAddItem(t){this._canAddItem=!!t,this._countFooterButtons()}onSaveItem=new e.bkB;onDeleteItem=new e.bkB;onAddItem=new e.bkB;valueTemplate;itemTemplate;itemEndTemplate;titleTemplate;placeholderTemplate;messageTemplate;groupTemplate;groupEndTemplate;closeButtonTemplate;searchFailTemplate;addItemTemplate;footerTemplate;_addItemTemplateFooterHeight;headerTemplate;itemIconTemplate;iconTemplate;virtualScrollHeaderFn=()=>null;constructor(t,n,o,l,s,_){this._modalController=t,this._platform=n,this.ionItem=o,this._iterableDiffers=l,this._element=s,this._renderer=_,(!this.items||!this.items.length)&&(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}initFocus(){}enableIonItem(t){this.ionItem&&(this.ionItem.disabled=!t)}_isNullOrWhiteSpace(t){return null==t||t.toString().replace(/\s/g,"").length<1}_setHasSearchText(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)}_hasOnSearch(){return this.isOnSearchEnabled&&this.onSearch.observers.length>0}_hasOnSaveItem(){return this.canSaveItem&&this.onSaveItem.observers.length>0}_hasOnAddItem(){return this.canAddItem&&this.onAddItem.observers.length>0}_hasOnDeleteItem(){return this.canDeleteItem&&this.onDeleteItem.observers.length>0}_emitValueChange(){this.propagateOnChange(this.value),this.onChange.emit({component:this,value:this.value})}_emitSearch(){this.canSearch&&this.onSearch.emit({component:this,text:this._searchText})}_emitOnSelect(t,n){this.onSelect.emit({component:this,item:t,isSelected:n})}_emitOnClear(t){this.onClear.emit({component:this,items:t})}_emitOnSearchSuccessOrFail(t){const n={component:this,text:this._searchText};t?this.onSearchSuccess.emit(n):this.onSearchFail.emit(n)}_formatItem(t){return this._isNullOrWhiteSpace(t)?"":this.itemTextField?t[this.itemTextField]:t.toString()}_formatValueItem(t){if(this._shouldStoreItemValue){const n=this.items.find(o=>o[this.itemValueField]===t);return this._formatItem(n)}return this._formatItem(t)}_getItemValue(t){return this._hasObjects?t[this.itemValueField]:t}_getStoredItemValue(t){return this._hasObjects?this._shouldStoreItemValue?t:t[this.itemValueField]:t}_onSearchbarClear(){this._searchText=""}_filterItems(){if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{let t=[];if(this._searchText&&this._searchText.trim()){const n=this._searchText.trim().toLowerCase();this._groups.forEach(o=>{const l=o.items.filter(s=>-1!==(this.itemTextField?s[this.itemTextField]:s).toString().toLowerCase().indexOf(n));l.length&&t.push({value:o.value,text:o.text,items:l})}),t.length||t.push({items:[]})}else t=this._groups;this._filteredGroups=t,this._hasFilteredItems=!this._areGroupsEmpty(t),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}}_isItemDisabled(t){return!!this.disabledItems&&this.disabledItems.some(n=>this._getItemValue(n)===this._getItemValue(t))}_isItemSelected(t){return void 0!==this._selectedItems.find(n=>this._getItemValue(t)===this._getStoredItemValue(n))}_addSelectedItem(t){this._selectedItems.push(this._shouldStoreItemValue?this._getItemValue(t):t)}_deleteSelectedItem(t){let n=-1;this._selectedItems.forEach((o,l)=>{this._getItemValue(t)===this._getStoredItemValue(o)&&(n=l)}),this._selectedItems.splice(n,1)}_click(){this.isEnabled&&(this._label=this._getLabelText(),this.open().then(()=>{this.onOpen.emit({component:this})}))}_saveItem(t,n){t.stopPropagation(),this._itemToAdd=n,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()}_deleteItemClick(t,n){t.stopPropagation(),this._itemToAdd=n,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)}_addItemClick(){this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()}_positionAddItemTemplate(){setTimeout(()=>{const t=this._modalComponent._element.nativeElement.querySelector(".ionic-selectable-add-item-template ion-footer");this._addItemTemplateFooterHeight=t?`calc(100% - ${t.offsetHeight}px)`:"100%"},100)}_close(){this.close().then(()=>{this.onClose.emit({component:this})}),this._hasOnSearch()||(this._searchText="",this._setHasSearchText())}_clear(){const t=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(t),this.close().then(()=>{this.onClose.emit({component:this})})}_getMoreItems(){this.onInfiniteScroll.emit({component:this,text:this._searchText})}_setItemsToConfirm(t){this._itemsToConfirm=structuredClone(t)}_doSelect(t){this.value=t,this._emitValueChange()}_select(t){const n=this._isItemSelected(t);this.isMultiple?(n?this._deleteSelectedItem(t):this._addSelectedItem(t),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(t,!n)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],n?this._deleteSelectedItem(t):this._addSelectedItem(t),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(t,!n)):(n||(this._selectedItems=[],this._addSelectedItem(t),this._emitOnSelect(t,!0),this._doSelect(this._shouldStoreItemValue?this._getItemValue(t):t)),this._close())}_confirm(){this.confirm(),this._close()}_getLabelText(){return this._ionLabelElement?this._ionLabelElement.textContent:null}_areGroupsEmpty(t){return 0===t.length||t.every(n=>!n.items||0===n.items.length)}_countFooterButtons(){let t=0;this.canClear&&t++,(this.isMultiple||this._hasConfirmButton)&&t++,this.canAddItem&&t++,this._footerButtonsCount=t}_setItems(t){let n=[{items:t||[]}];t&&t.length&&this._hasGroups&&(n=[],t.forEach(o=>{const l=this._getPropertyValue(o,this.groupValueField),s=n.find(_=>_.value===l);s?s.items.push(o):n.push({value:l,text:this._getPropertyValue(o,this.groupTextField),items:[o]})})),this._groups=n,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)}_getPropertyValue(t,n){return n?n.split(".").reduce((o,l)=>o?o[l]:null,t):null}_setIonItemHasFocus(t){this.ionItem&&this._setIonItemCssClass("item-has-focus",t)}_setIonItemHasValue(){this.ionItem&&this._setIonItemCssClass("item-has-value",this.hasValue())}_setHasPlaceholder(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)}propagateOnChange=t=>{};propagateOnTouched=()=>{};_setIonItemCssClass(t,n){this._ionItemElement&&(n?this._renderer.addClass(this._ionItemElement,t):this._renderer.removeClass(this._ionItemElement,t))}_toggleAddItemTemplate(t){this.addItemTemplate&&(this._isAddItemTemplateVisible=t,this._isFooterVisible=!t)}writeValue(t){this.value=t}registerOnChange(t){this.propagateOnChange=t}registerOnTouched(t){this.propagateOnTouched=t}setDisabledState(t){this.isEnabled=!t}ngOnInit(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=!(!this._hasObjects||!this.groupValueField||this.hasVirtualScroll),this.ionItem&&(this._ionItemElement=this._element.nativeElement.closest("ion-item"),this._setIonItemCssClass("item-interactive",!0),this._setIonItemCssClass("item-ionic-selectable",!0),this._ionItemElement&&(this._ionLabelElement=this._ionItemElement.querySelector("ion-label"),this._ionLabelElement&&(this._hasIonLabel=!0,this._ionLabelPosition=this._ionLabelElement.getAttribute("position")||"default"))),this.enableIonItem(this.isEnabled)}ngDoCheck(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.value=this.value,this.onItemsChange.emit({component:this}))}addItem(t){const n=this;return this.items.unshift(t),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(o,l){n._addItemObservable=n.onItemsChange.asObservable().subscribe(()=>{n._addItemObservable.unsubscribe(),o("")},()=>{n._addItemObservable.unsubscribe(),l()})})}deleteItem(t){const n=this;let o=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(s=>this._getItemValue(t)!==this._getStoredItemValue(s))),this.value)if(this.isMultiple){const s=this.value.filter(_=>_.id!==t.id);s.length!==this.value.length&&(this.value=s,o=!0)}else t===this.value&&(this.value=null,o=!0);o&&this._emitValueChange();const l=this.items.filter(s=>s.id!==t.id);return this.itemsChange.emit(l),this._setItems(l),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(s,_){n._deleteItemObservable=n.onItemsChange.asObservable().subscribe(()=>{n._deleteItemObservable.unsubscribe(),s("")},()=>{n._deleteItemObservable.unsubscribe(),_()})})}hasValue(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])}open(){const t=this;return new Promise(function(n,o){if(!t._isEnabled||t._isOpened)return void o("IonicSelectable is disabled or already opened.");t._filterItems(),t._isOpened=!0;const l={component:Be,componentProps:{selectComponent:t},backdropDismiss:t._shouldBackdropClose};t.modalCssClass&&(l.cssClass=t.modalCssClass),t.modalEnterAnimation&&(l.enterAnimation=t.modalEnterAnimation),t.modalLeaveAnimation&&(l.leaveAnimation=t.modalLeaveAnimation),t._modalController.create(l).then(s=>{t._modal=s,s.present().then(()=>{t._setIonItemHasFocus(!0),n()}),s.onWillDismiss().then(()=>{t._setIonItemHasFocus(!1)}),s.onDidDismiss().then(_=>{t._isOpened=!1,t._itemsToConfirm=[],"backdrop"===_.role&&t.onClose.emit({component:t})})})})}close(){const t=this;return new Promise(function(n,o){t._isEnabled&&t._isOpened?(t.propagateOnTouched(),t._isOpened=!1,t._itemToAdd=null,t._modal.dismiss().then(()=>{t._setIonItemHasFocus(!1),t.hideAddItemTemplate(),n()})):o("IonicSelectable is disabled or already closed.")})}clear(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value)}confirm(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)}toggleItems(t,n){if(t){const o=n&&n.length;let l=this._groups.reduce((s,_)=>s.concat(_.items),[]);!this.isMultiple&&!o&&(l=[]),o&&(l=l.filter(s=>void 0!==n.find(_=>this._getItemValue(s)===this._getItemValue(_))),this.isMultiple||l.splice(0,1)),l.forEach(s=>{this._addSelectedItem(s)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)}scrollToTop(){const t=this;return new Promise(function(n,o){t._isOpened?t._modalComponent._content.scrollToTop().then(()=>{n("")}):o("IonicSelectable content cannot be scrolled.")})}scrollToBottom(){const t=this;return new Promise(function(n,o){t._isOpened?t._modalComponent._content.scrollToBottom().then(()=>{n("")}):o("IonicSelectable content cannot be scrolled.")})}startSearch(){this._isEnabled&&this.showLoading()}endSearch(){this._isEnabled&&(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))}enableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!1)}disableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!0)}endInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.complete(),this._setItems(this.items))}search(t){!this._isEnabled||!this._isOpened||!this.canSearch||(this._searchText=t,this._setHasSearchText(),this._filterItems())}showLoading(){this._isEnabled&&(this._isSearching=!0)}hideLoading(){this._isEnabled&&(this._isSearching=!1)}showAddItemTemplate(){this._toggleAddItemTemplate(!0),this._positionAddItemTemplate()}hideAddItemTemplate(){this._itemToAdd=null,this._toggleAddItemTemplate(!1)}static \u0275fac=function(n){return new(n||i)(e.rXU(c.W3),e.rXU(h.OD),e.rXU(c.uz,8),e.rXU(e._q3),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:i,selectors:[["ionic-selectable"]],contentQueries:function(n,o,l){if(1&n&&(e.wni(l,we,5,e.C4Q),e.wni(l,Pe,5,e.C4Q),e.wni(l,Ee,5,e.C4Q),e.wni(l,$e,5,e.C4Q),e.wni(l,Ve,5,e.C4Q),e.wni(l,Ae,5,e.C4Q),e.wni(l,De,5,e.C4Q),e.wni(l,Fe,5,e.C4Q),e.wni(l,Me,5,e.C4Q),e.wni(l,Re,5,e.C4Q),e.wni(l,Ge,5,e.C4Q),e.wni(l,xe,5,e.C4Q),e.wni(l,Oe,5,e.C4Q),e.wni(l,ye,5,e.C4Q),e.wni(l,ke,5,e.C4Q)),2&n){let s;e.mGM(s=e.lsd())&&(o.valueTemplate=s.first),e.mGM(s=e.lsd())&&(o.itemTemplate=s.first),e.mGM(s=e.lsd())&&(o.itemEndTemplate=s.first),e.mGM(s=e.lsd())&&(o.titleTemplate=s.first),e.mGM(s=e.lsd())&&(o.placeholderTemplate=s.first),e.mGM(s=e.lsd())&&(o.messageTemplate=s.first),e.mGM(s=e.lsd())&&(o.groupTemplate=s.first),e.mGM(s=e.lsd())&&(o.groupEndTemplate=s.first),e.mGM(s=e.lsd())&&(o.closeButtonTemplate=s.first),e.mGM(s=e.lsd())&&(o.searchFailTemplate=s.first),e.mGM(s=e.lsd())&&(o.addItemTemplate=s.first),e.mGM(s=e.lsd())&&(o.footerTemplate=s.first),e.mGM(s=e.lsd())&&(o.headerTemplate=s.first),e.mGM(s=e.lsd())&&(o.itemIconTemplate=s.first),e.mGM(s=e.lsd())&&(o.iconTemplate=s.first)}},hostVars:26,hostBindings:function(n,o){2&n&&e.AVh("ionic-selectable",o._cssClass)("ionic-selectable-ios",o._isIos)("ionic-selectable-md",o._isMD)("ionic-selectable-is-multiple",o._isMultipleCssClass)("ionic-selectable-has-value",o._hasValueCssClass)("ionic-selectable-has-placeholder",o._hasPlaceholderCssClass)("ionic-selectable-has-label",o._hasIonLabelCssClass)("ionic-selectable-label-default",o._hasDefaultIonLabelCssClass)("ionic-selectable-label-fixed",o._hasFixedIonLabelCssClass)("ionic-selectable-label-stacked",o._hasStackedIonLabelCssClass)("ionic-selectable-label-floating",o._hasFloatingIonLabelCssClass)("ionic-selectable-is-enabled",o.isEnabled)("ionic-selectable-can-clear",o.canClear)},inputs:{items:"items",isEnabled:"isEnabled",shouldBackdropClose:"shouldBackdropClose",modalCssClass:"modalCssClass",modalEnterAnimation:"modalEnterAnimation",modalLeaveAnimation:"modalLeaveAnimation",isConfirmButtonEnabled:"isConfirmButtonEnabled",hasConfirmButton:"hasConfirmButton",itemValueField:"itemValueField",itemTextField:"itemTextField",groupValueField:"groupValueField",groupTextField:"groupTextField",canSearch:"canSearch",isOnSearchEnabled:"isOnSearchEnabled",canClear:"canClear",hasInfiniteScroll:"hasInfiniteScroll",hasVirtualScroll:"hasVirtualScroll",virtualScrollApproxItemHeight:"virtualScrollApproxItemHeight",searchPlaceholder:"searchPlaceholder",placeholder:"placeholder",isMultiple:"isMultiple",searchFailText:"searchFailText",clearButtonText:"clearButtonText",addButtonText:"addButtonText",confirmButtonText:"confirmButtonText",closeButtonText:"closeButtonText",shouldFocusSearchbar:"shouldFocusSearchbar",headerColor:"headerColor",groupColor:"groupColor",closeButtonSlot:"closeButtonSlot",itemIconSlot:"itemIconSlot",searchDebounce:"searchDebounce",disabledItems:"disabledItems",shouldStoreItemValue:"shouldStoreItemValue",canSaveItem:"canSaveItem",canDeleteItem:"canDeleteItem",canAddItem:"canAddItem",virtualScrollHeaderFn:"virtualScrollHeaderFn"},outputs:{itemsChange:"itemsChange",onChange:"onChange",onSearch:"onSearch",onSearchFail:"onSearchFail",onSearchSuccess:"onSearchSuccess",onInfiniteScroll:"onInfiniteScroll",onOpen:"onOpen",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onSaveItem:"onSaveItem",onDeleteItem:"onDeleteItem",onAddItem:"onAddItem"},features:[e.Jv_([{provide:u.kq,useExisting:(0,e.Rfq)(()=>i),multi:!0}])],decls:11,vars:9,consts:[[1,"ionic-selectable-inner"],[1,"ionic-selectable-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","ionic-selectable-value-item",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-icon-template",4,"ngIf"],["class","ionic-selectable-icon",4,"ngIf"],["type","button",1,"ionic-selectable-cover",3,"click","disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ionic-selectable-value-item"],["class","ionic-selectable-value-item",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ionic-selectable-icon-template"],[1,"ionic-selectable-icon"],[1,"ionic-selectable-icon-inner"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,ue,1,4,"div",2)(3,fe,2,4,"div",3)(4,Ie,2,1,"span",4)(5,ge,2,1,"div",3)(6,Ce,2,1,"div",3)(7,Te,2,0,"span",4),e.k0s(),e.DNE(8,Se,2,1,"div",5)(9,ve,2,0,"div",6),e.j41(10,"button",7),e.bIt("click",function(){return o._click()}),e.k0s()()),2&n&&(e.R7$(2),e.Y8G("ngIf",o.valueTemplate&&o._valueItems.length&&o.isMultiple),e.R7$(),e.Y8G("ngIf",o.valueTemplate&&o._valueItems.length&&!o.isMultiple),e.R7$(),e.Y8G("ngIf",!o.valueTemplate&&o._valueItems.length),e.R7$(),e.Y8G("ngIf",o._hasPlaceholder&&o.placeholderTemplate),e.R7$(),e.Y8G("ngIf",o._hasPlaceholder&&!o.placeholderTemplate),e.R7$(),e.Y8G("ngIf",!o._valueItems.length&&!o._hasPlaceholder),e.R7$(),e.Y8G("ngIf",o.iconTemplate),e.R7$(),e.Y8G("ngIf",!o.iconTemplate),e.R7$(),e.Y8G("disabled",!o.isEnabled))},dependencies:[r.bT,r.T3,r.pM],styles:[".item-ionic-selectable .item-inner .input-wrapper{align-items:normal}.item-ionic-selectable ion-label{flex:1;max-width:initial}.ionic-selectable{display:block;max-width:45%}.ionic-selectable-inner{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end}.ionic-selectable-has-placeholder .ionic-selectable-value-item{color:var(--placeholder-color, #999)}.ionic-selectable-value{flex:1;padding-top:13px;padding-bottom:13px;overflow:hidden}.ionic-selectable-value-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ionic-selectable-value-item:not(:last-child){margin-bottom:5px}.ionic-selectable-icon{position:relative;width:20px}.ionic-selectable-icon-inner{position:absolute;top:20px;left:5px;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;pointer-events:none;color:var(--icon-color, #999)}.ionic-selectable-icon-template{align-self:center;margin-left:5px}.ionic-selectable-ios .ionic-selectable-value{padding-top:11px;padding-bottom:11px}.ionic-selectable-ios .ionic-selectable-icon-inner{top:19px}.ionic-selectable-spinner{position:fixed;inset:0;z-index:1}.ionic-selectable-spinner-background{inset:0;position:absolute;background-color:#000;opacity:.05}.ionic-selectable-spinner ion-spinner{position:absolute;top:50%;left:50%;z-index:10;margin-top:-14px;margin-left:-14px}.ionic-selectable-cover{left:0;top:0;margin:0;position:absolute;width:100%;height:100%;border:0;background:0 0;cursor:pointer;-webkit-appearance:none;appearance:none;outline:0}.ionic-selectable-add-item-template{position:fixed;bottom:0;left:0;right:0;background-color:#fff}.ionic-selectable-add-item-template-inner{overflow-y:auto}.ionic-selectable-add-item-template-inner>ion-footer{bottom:0;position:absolute}.ionic-selectable-label-stacked,.ionic-selectable-label-floating{align-self:stretch;max-width:100%;padding-left:0;padding-top:8px;padding-bottom:8px}.ionic-selectable-label-stacked .ionic-selectable-value,.ionic-selectable-label-floating .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:19px}.ionic-selectable-label-stacked .ionic-selectable-icon-inner,.ionic-selectable-label-floating .ionic-selectable-icon-inner{top:7px}.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-value,.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:20px}.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-icon-inner,.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-icon-inner{top:8px}.ionic-selectable-label-default .ionic-selectable-value,.ionic-selectable-label-fixed .ionic-selectable-value{padding-left:var(--padding-start, 16px)}.ionic-selectable-label-fixed:not(.ionic-selectable-has-value) .ionic-selectable-value{padding-left:calc(var(--padding-start, 16px) + 11px)}.ionic-selectable-modal .ionic-selectable-group ion-item-divider{padding-right:16px}.ionic-selectable-modal .ionic-selectable-item-button{margin-left:8px;margin-right:8px}.ionic-selectable-modal-ios .ionic-selectable-message{padding:8px}.ionic-selectable-modal-ios .ionic-selectable-group ion-item-divider{padding-right:8px}.ionic-selectable-modal-md .ionic-selectable-message{padding:8px 12px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:first-child{padding-right:8px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:last-child{padding-left:8px}.ionic-selectable-modal.ionic-selectable-modal-is-searching .scroll-content{overflow-y:hidden}.ionic-selectable-modal.ionic-selectable-modal-is-add-item-template-visible>.content>.scroll-content{overflow-y:hidden}.ionic-selectable-modal ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}\n"],encapsulation:2})}return i})()}}]);